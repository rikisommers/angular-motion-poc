<section class="flex flex-col gap-4">
  <header>
    @if(title) { <h3 class="text-2xl font-bold">{{ title }}</h3> }
    @if(description) { <p class="text-sm text-gray-500">{{ description }}</p> }
    <ng-content select="header"></ng-content>
  </header>

  <app-tabset
    [tabs]="tabs"
    [active_tab]="activeTab"
    (atuiChange)="handleTabChange($event)"
    layout="horizontal">
  </app-tabset>

  @if(activeTab === 'content') {
    <div class="flex overflow-hidden relative justify-center items-center w-full rounded-lg bg-slate-700 aspect-video">
      <div class="absolute top-4 right-4 flex gap-2">
        @if(onRetrigger) {
          <app-button
            label="Retrigger"
            type="secondary"
            size="sm"
            (awClick)="onRetrigger()">
          </app-button>
        }
        <app-button
          label="View Code"
          type="primary"
          size="sm"
          (awClick)="toggleDialog()">
        </app-button>
      </div>
      <ng-content select="[content]"></ng-content>
    </div>
  }

  @if(activeTab === 'code') {
    <pre class="flex overflow-hidden relative justify-center items-center w-full rounded-lg bg-slate-700 aspect-video">
      <code>
        <ng-content select="[code]"></ng-content>
      </code>
    </pre>
  }


</section>    

<app-dialog
#exampleDialog
dialog_id="block-example-dialog"
role="dialog">
<div class="flex flex-col gap-4 p-8">
  <div class="flex justify-between items-center">
    <h3 class="text-xl font-bold">Code Example</h3>
    <app-button
      label="Close"
      type="secondary"
      (awClick)="toggleDialog()">
    </app-button>
  </div>
  <pre class="overflow-auto p-4 max-h-96 rounded-lg bg-slate-800">
    <code>
      <ng-container [ngTemplateOutlet]="code || null"></ng-container>
    </code>
  </pre>
</div>
</app-dialog>
