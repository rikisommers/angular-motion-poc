<!-- Horizontal Layout -->
<div *ngIf="layout === 'horizontal'" class="tabset-horizontal flex flex-grow">
  <!-- Navigation -->
  <div *ngIf="!hide_nav" class="tabset-navigation">
    <nav
      role="tablist"
      class="flex relative flex-wrap text-sm font-medium text-center border-b border-gray-200"
      [id]="'container-' + tabsetId">

      <!-- Tab Buttons -->
      <app-tabset-item
        *ngFor="let tab of tabs"
        [tab_id]="tab.id"
        [tab_title]="tab.title"
        [layout]="layout"
        [is_active]="active_tab === tab.id"
        (click)="handleTabChange(tab.id)">
      </app-tabset-item>

      <!-- Additional tab nav content -->
      <ng-content select="[slot=tab-nav]"></ng-content>

      <!-- Active indicator -->
      <div
        [id]="'indicator-' + tabsetId"
        class="bg-blue-500 pointer-events-none absolute bottom-0 z-10 mx-8 h-2 rounded-sm transition-[left] duration-150 ease-in-out"
        [style.left]="'0'"
        [style.opacity]="'0'"
        aria-hidden="true"
        role="presentation">
      </div>
    </nav>
  </div>

  <!-- Content -->
  <div role="tabpanel" class="tabset-content">
    <ng-content></ng-content>
  </div>
</div>

<!-- Vertical Layout -->
<div *ngIf="layout === 'vertical'" class="tabset-vertical flex flex-grow">
  <!-- Master (Navigation) -->
  <div class="tabset-master">
    <nav
      role="tablist"
      class="flex flex-col flex-grow pr-16">

      <!-- Tab Buttons -->
      <app-tabset-item
        *ngFor="let tab of tabs"
        [tab_id]="tab.id"
        [tab_title]="tab.title"
        [layout]="layout"
        [is_active]="active_tab === tab.id"
        (click)="handleTabChange(tab.id)">
      </app-tabset-item>

      <!-- Additional tab nav content -->
      <ng-content select="[slot=tab-nav]"></ng-content>
    </nav>
  </div>

  <!-- Detail (Content) -->
  <div
    role="tabpanel"
    class="tabset-detail flex flex-col flex-grow">
    <ng-content></ng-content>
  </div>
</div>
